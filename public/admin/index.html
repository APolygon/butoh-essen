<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/admin/preview.css" />
  </head>
  <body>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="https://unpkg.com/decap-cms@latest/dist/decap-cms.js"></script>
    <script>
      if (window.CMS) {
        const HeroPreview = ({ entry }) => {
          const title =
            entry.getIn(["data", "hero", "title"]) ||
            entry.getIn(["data", "title"]) ||
            "";
          const subtitle = entry.getIn(["data", "hero", "subtitle"]) || "";
          return h(
            "div",
            { className: "cms-preview" },
            h(
              "div",
              { className: "hero" },
              h("h1", { dangerouslySetInnerHTML: { __html: title } }),
              h("p", {}, subtitle)
            )
          );
        };
        CMS.registerPreviewTemplate("pages", HeroPreview);
      }
    </script>
  </body>
</html>
